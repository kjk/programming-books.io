3348 noahttpcache
Method: POST
URL: https://www.notion.so/api/v3/syncRecordValues
Body:+162
{
  "requests": [
    {
      "pointer": {
        "table": "block",
        "id": "b417f39c-1e3b-41e1-bafe-a7412f825462"
      },
      "version": -1
    }
  ]
}
Response:+3096
{
  "recordMap": {
    "block": {
      "b417f39c-1e3b-41e1-bafe-a7412f825462": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "content": [
            "d68b3095-dae7-4e99-b9d4-1db0df8016c4",
            "01531364-911a-44d8-aee0-791aead4098b",
            "73d96825-460a-454d-bbf9-32ecd741d3d8",
            "306e4f57-6007-4f97-b07b-0680af6633de",
            "6d9b9175-23b4-4914-a0d9-990bfd39ade5",
            "ff7dc70d-6515-4a63-a002-27c4274c0b99",
            "e63785fd-0c88-4170-9989-da9703c4dd3b",
            "ea6299fa-08d2-4d5c-88e2-a3b464c5fb7a",
            "e9c58134-84f6-413b-8df8-195993a812ac",
            "f5124661-f9fa-4c3d-8e63-b3b9b9670670",
            "af2e8daa-b649-4f82-a211-7424ff54a34b",
            "80d4dbd8-294f-4994-af63-91c96ce4ae71",
            "aca6b768-fcc7-4e36-87d7-9b0363a1f8b3",
            "d1af4cbf-e4ae-4258-845d-296a662647e6",
            "49f55328-00dc-401a-9ad7-ab30d4b2b032",
            "dbcd36b4-02f9-43cd-ab71-f96712a91db0",
            "2bc78656-82b3-4418-8a2d-1f3a587d9644",
            "304200cf-97a5-4400-afcd-0acc6495f868",
            "ac724d6f-3a98-4fc7-876f-0e39930327f2",
            "62025198-d81a-4b00-af07-99b65fc8fd2a",
            "a9bca433-7e32-4e06-81cc-e6a7bd1d4b3a",
            "f133e090-0a2c-438f-b526-68c39db17993",
            "bc1fb82c-5852-4537-99b0-ad9178ca196d",
            "c668f469-693b-4fcf-b748-1b91bbe7521b",
            "64f2f3c2-c9c5-4815-948a-6f2a6af2382a",
            "e2ec50da-3b6a-484c-b7f9-759c65640eef",
            "2cf01460-bd94-4781-bc1d-f8858f8373c8",
            "f4ebe6c2-6795-43ee-ae89-82d547d7a370",
            "a3b618bc-d07d-4a07-975d-d14fd7df8751",
            "ecc02b51-1fcf-4431-ba06-e775001b230c",
            "c947b4ea-5d8e-473b-8429-7a811c33eb89",
            "bef13842-6648-4a6b-99f5-d29ecf541b64",
            "5f27a4dc-790b-4ee7-9afb-69bf4f72e24c",
            "b8d91a84-08c2-4e0d-b297-9f33849e98b9",
            "e8ce776a-b553-440e-a4ab-827b87c9287e"
          ],
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834469,
          "format": {
            "page_full_width": true,
            "page_small_text": true
          },
          "id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834469,
          "parent_id": "90e27c41-8789-4f04-99f3-a04940f3821a",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "A Transformation Matrix to track translated rotated scaled shapes"
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "page",
          "version": 3
        }
      }
    }
  }
}
56403 noahttpcache
Method: POST
URL: https://www.notion.so/api/v3/loadCachedPageChunk
Body:+166
{
  "page": {
    "id": "b417f39c-1e3b-41e1-bafe-a7412f825462"
  },
  "chunkNumber": 0,
  "limit": 50,
  "cursor": {
    "stack": []
  },
  "verticalColumns": false
}
Response:+56143
{
  "cursor": {
    "stack": []
  },
  "recordMap": {
    "block": {
      "01531364-911a-44d8-aee0-791aead4098b": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834451,
          "id": "01531364-911a-44d8-aee0-791aead4098b",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834451,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "Canvas itself uses a transformation matrix to efficiently track transformations."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 5
        }
      },
      "227fa77d-624c-441d-9801-1d7c998609a6": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "content": [
            "7d650957-f574-48d4-85d0-f1426726d652",
            "ba65754e-de34-461e-b1e1-560e2d6309e4",
            "db570444-b7a8-4c65-af50-7de125251743",
            "4ce6605a-6537-4752-91ee-3480df7bacb9",
            "43473e47-27d0-430a-914d-cd63a767322a",
            "c37198be-d8f3-48ef-8bfc-2cebe79b5d8b",
            "041fccae-eb96-4fce-9577-0aaf8da6dad2",
            "0d20929d-b856-4186-bfed-fbeecbb675d5",
            "28d114e4-4088-44fc-827c-5f73d6238ff8",
            "69ada749-d571-44f8-9e7e-47f98efde9a1",
            "dd776e0e-e228-4dd6-99b4-439d20e57076",
            "15ffc166-5db0-493f-b264-5df513042ee7",
            "55c84186-8698-41c9-8d2d-873c9b4a19c9",
            "e6a83a07-a607-45f6-8849-92715cb6dc6b",
            "90e27c41-8789-4f04-99f3-a04940f3821a",
            "d29786c7-8259-4e77-8b8c-65265f7b95e3",
            "de5b9aa7-4f44-4592-b8f3-47684b3408b3",
            "ac5cc01d-563d-4c52-a360-2801411c5860",
            "bdca4d70-e7e6-44fe-9570-6e68527f05d6"
          ],
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949612631,
          "format": {
            "page_full_width": true,
            "page_small_text": true
          },
          "id": "227fa77d-624c-441d-9801-1d7c998609a6",
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1570605000000,
          "parent_id": "04728687-1a4a-4462-8e20-53bfc46354c2",
          "parent_table": "block",
          "permissions": [
            {
              "allow_search_engine_indexing": false,
              "role": "comment_only",
              "type": "public_permission"
            }
          ],
          "properties": {
            "title": [["Essential HTML5 Canvas"]]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "page",
          "version": 71
        }
      },
      "2bc78656-82b3-4418-8a2d-1f3a587d9644": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834454,
          "id": "2bc78656-82b3-4418-8a2d-1f3a587d9644",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834454,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "You can use geometry & trigonometry to calculate the points that make up transformed shapes, but it’s faster to use a transformation matrix to calculate those points."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 1
        }
      },
      "2cf01460-bd94-4781-bc1d-f8858f8373c8": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834467,
          "id": "2cf01460-bd94-4781-bc1d-f8858f8373c8",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834467,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [["Code:", [["b"]]]]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 1
        }
      },
      "304200cf-97a5-4400-afcd-0acc6495f868": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834454,
          "id": "304200cf-97a5-4400-afcd-0acc6495f868",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834454,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [["A Transformation Matrix “Class”", [["i"]]]]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "header",
          "version": 5
        }
      },
      "306e4f57-6007-4f97-b07b-0680af6633de": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834451,
          "id": "306e4f57-6007-4f97-b07b-0680af6633de",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834451,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["You can change Canvas’s matrix with individual "],
              ["translate, rotate & scale", [["c"]]],
              [" commands"]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 5
        }
      },
      "49f55328-00dc-401a-9ad7-ab30d4b2b032": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834454,
          "id": "49f55328-00dc-401a-9ad7-ab30d4b2b032",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834454,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "Instead of reapplying individual transformations with multiple "
              ],
              [".translate, .rotate, .scale", [["c"]]],
              [
                " you can apply all the aggregated transformations in a single line of code."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 5
        }
      },
      "5f27a4dc-790b-4ee7-9afb-69bf4f72e24c": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834468,
          "id": "5f27a4dc-790b-4ee7-9afb-69bf4f72e24c",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834468,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "Test if the mouse has clicked inside the transformed rectangle."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      },
      "62025198-d81a-4b00-af07-99b65fc8fd2a": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834465,
          "id": "62025198-d81a-4b00-af07-99b65fc8fd2a",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834465,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [["Methods:"]]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 5
        }
      },
      "64f2f3c2-c9c5-4815-948a-6f2a6af2382a": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834467,
          "id": "64f2f3c2-c9c5-4815-948a-6f2a6af2382a",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834467,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["getScreenPoint", [["c"]]],
              [
                " takes a transformed coordinate point and converts it into an untransformed point."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      },
      "6d9b9175-23b4-4914-a0d9-990bfd39ade5": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834452,
          "id": "6d9b9175-23b4-4914-a0d9-990bfd39ade5",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834452,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["You can completely overwrite Canvas’s matrix with "],
              ["context.setTransform", [["c"]]],
              [","]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      },
      "73d96825-460a-454d-bbf9-32ecd741d3d8": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834451,
          "id": "73d96825-460a-454d-bbf9-32ecd741d3d8",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834451,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["You can change Canvas’s matrix with "],
              ["context.transform", [["c"]]]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      },
      "80d4dbd8-294f-4994-af63-91c96ce4ae71": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834453,
          "id": "80d4dbd8-294f-4994-af63-91c96ce4ae71",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834453,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["There is a built-in "],
              ["context.isPointInPath", [["c"]]],
              [
                " that tests if a point (eg the mouse) is inside a path-shape, but this built-in test is very slow compared to testing using a matrix."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 5
        }
      },
      "90e27c41-8789-4f04-99f3-a04940f3821a": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "content": [
            "183a1691-0b71-448d-967f-c62378d5ea11",
            "94b11a6d-1045-4714-9668-a3e306b3da00",
            "33473700-dfac-4473-bfd8-caf5edbadadd",
            "421cbc2a-9237-472f-a6f6-fe299cd22fbc",
            "b417f39c-1e3b-41e1-bafe-a7412f825462"
          ],
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949800000,
          "format": {
            "page_full_width": true,
            "page_small_text": true
          },
          "id": "90e27c41-8789-4f04-99f3-a04940f3821a",
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551950040000,
          "parent_id": "227fa77d-624c-441d-9801-1d7c998609a6",
          "parent_table": "block",
          "permissions": [
            {
              "role": "editor",
              "type": "user_permission",
              "user_id": "bb760e2d-d679-4b64-b2a9-03005b21870a"
            }
          ],
          "properties": {
            "title": [["Transformations"]]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "page",
          "version": 33
        }
      },
      "a3b618bc-d07d-4a07-975d-d14fd7df8751": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834467,
          "id": "a3b618bc-d07d-4a07-975d-d14fd7df8751",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834467,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [["Demo:", [["b"]]]]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 1
        }
      },
      "a9bca433-7e32-4e06-81cc-e6a7bd1d4b3a": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834466,
          "id": "a9bca433-7e32-4e06-81cc-e6a7bd1d4b3a",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834466,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["translate", [["c"]]],
              [", "],
              ["rotate", [["c"]]],
              [", "],
              ["scale", [["c"]]],
              [
                " mirror the context transformation commands and allow you to feed transformations into the matrix. The matrix efficiently holds the aggregated transformations."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      },
      "ac724d6f-3a98-4fc7-876f-0e39930327f2": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834465,
          "id": "ac724d6f-3a98-4fc7-876f-0e39930327f2",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834465,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["This code mirrors the native "],
              ["context.translate", [["c"]]],
              [", "],
              ["context.rotate", [["c"]]],
              [", "],
              ["context.scale", [["c"]]],
              [
                " transformation commands. Unlike the native canvas matrix, this matrix is readable and reusable."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 1
        }
      },
      "aca6b768-fcc7-4e36-87d7-9b0363a1f8b3": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834453,
          "id": "aca6b768-fcc7-4e36-87d7-9b0363a1f8b3",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834453,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "Efficiently testing if the mouse is inside a shape involves taking the mouse position reported by the browser and transforming it in the same way that the shape was transformed. Then you can apply hit-testing as if the shape was not transformed."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 1
        }
      },
      "af2e8daa-b649-4f82-a211-7424ff54a34b": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834453,
          "id": "af2e8daa-b649-4f82-a211-7424ff54a34b",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834453,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "Test if the mouse is inside a shape that you have translated, rotated & scaled",
                [["b"]]
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      },
      "b417f39c-1e3b-41e1-bafe-a7412f825462": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "content": [
            "d68b3095-dae7-4e99-b9d4-1db0df8016c4",
            "01531364-911a-44d8-aee0-791aead4098b",
            "73d96825-460a-454d-bbf9-32ecd741d3d8",
            "306e4f57-6007-4f97-b07b-0680af6633de",
            "6d9b9175-23b4-4914-a0d9-990bfd39ade5",
            "ff7dc70d-6515-4a63-a002-27c4274c0b99",
            "e63785fd-0c88-4170-9989-da9703c4dd3b",
            "ea6299fa-08d2-4d5c-88e2-a3b464c5fb7a",
            "e9c58134-84f6-413b-8df8-195993a812ac",
            "f5124661-f9fa-4c3d-8e63-b3b9b9670670",
            "af2e8daa-b649-4f82-a211-7424ff54a34b",
            "80d4dbd8-294f-4994-af63-91c96ce4ae71",
            "aca6b768-fcc7-4e36-87d7-9b0363a1f8b3",
            "d1af4cbf-e4ae-4258-845d-296a662647e6",
            "49f55328-00dc-401a-9ad7-ab30d4b2b032",
            "dbcd36b4-02f9-43cd-ab71-f96712a91db0",
            "2bc78656-82b3-4418-8a2d-1f3a587d9644",
            "304200cf-97a5-4400-afcd-0acc6495f868",
            "ac724d6f-3a98-4fc7-876f-0e39930327f2",
            "62025198-d81a-4b00-af07-99b65fc8fd2a",
            "a9bca433-7e32-4e06-81cc-e6a7bd1d4b3a",
            "f133e090-0a2c-438f-b526-68c39db17993",
            "bc1fb82c-5852-4537-99b0-ad9178ca196d",
            "c668f469-693b-4fcf-b748-1b91bbe7521b",
            "64f2f3c2-c9c5-4815-948a-6f2a6af2382a",
            "e2ec50da-3b6a-484c-b7f9-759c65640eef",
            "2cf01460-bd94-4781-bc1d-f8858f8373c8",
            "f4ebe6c2-6795-43ee-ae89-82d547d7a370",
            "a3b618bc-d07d-4a07-975d-d14fd7df8751",
            "ecc02b51-1fcf-4431-ba06-e775001b230c",
            "c947b4ea-5d8e-473b-8429-7a811c33eb89",
            "bef13842-6648-4a6b-99f5-d29ecf541b64",
            "5f27a4dc-790b-4ee7-9afb-69bf4f72e24c",
            "b8d91a84-08c2-4e0d-b297-9f33849e98b9",
            "e8ce776a-b553-440e-a4ab-827b87c9287e"
          ],
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834469,
          "format": {
            "page_full_width": true,
            "page_small_text": true
          },
          "id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834469,
          "parent_id": "90e27c41-8789-4f04-99f3-a04940f3821a",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "A Transformation Matrix to track translated rotated scaled shapes"
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "page",
          "version": 3
        }
      },
      "b8d91a84-08c2-4e0d-b297-9f33849e98b9": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834468,
          "id": "b8d91a84-08c2-4e0d-b297-9f33849e98b9",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834468,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [["Code:", [["i"]]]]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 5
        }
      },
      "bc1fb82c-5852-4537-99b0-ad9178ca196d": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834466,
          "id": "bc1fb82c-5852-4537-99b0-ad9178ca196d",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834466,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["resetContextTransform", [["c"]]],
              [
                " resets the context’s transformation to it’s default state (==untransformed)."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      },
      "bef13842-6648-4a6b-99f5-d29ecf541b64": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834468,
          "id": "bef13842-6648-4a6b-99f5-d29ecf541b64",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834468,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "Redraw the transformed rectangle without using context transformation commands."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      },
      "c668f469-693b-4fcf-b748-1b91bbe7521b": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834467,
          "id": "c668f469-693b-4fcf-b748-1b91bbe7521b",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834467,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["getTransformedPoint", [["c"]]],
              [
                " takes an untransformed coordinate point and converts it into a transformed point."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      },
      "c947b4ea-5d8e-473b-8429-7a811c33eb89": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834468,
          "id": "c947b4ea-5d8e-473b-8429-7a811c33eb89",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834468,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["Track (==save) a rectangle’s transformation matrix."]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 5
        }
      },
      "d1af4cbf-e4ae-4258-845d-296a662647e6": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834454,
          "id": "d1af4cbf-e4ae-4258-845d-296a662647e6",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834454,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "Redraw a shape that has been extensively translated, rotated & scaled.",
                [["b"]]
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 5
        }
      },
      "d68b3095-dae7-4e99-b9d4-1db0df8016c4": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834448,
          "id": "d68b3095-dae7-4e99-b9d4-1db0df8016c4",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834448,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["Canvas allows you to "],
              ["context.translate", [["c"]]],
              [", "],
              ["context.rotate", [["c"]]],
              [" and "],
              ["context.scale", [["c"]]],
              [
                " in order to draw your shape in the position & size you require."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 1
        }
      },
      "dbcd36b4-02f9-43cd-ab71-f96712a91db0": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834454,
          "id": "dbcd36b4-02f9-43cd-ab71-f96712a91db0",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834454,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "Collision test shapes that have been translated, rotated & scaled",
                [["b"]]
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      },
      "e2ec50da-3b6a-484c-b7f9-759c65640eef": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834467,
          "id": "e2ec50da-3b6a-484c-b7f9-759c65640eef",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834467,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["getMatrix", [["c"]]],
              [
                " returns the aggregated transformations in the form of a matrix array."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      },
      "e63785fd-0c88-4170-9989-da9703c4dd3b": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834452,
          "id": "e63785fd-0c88-4170-9989-da9703c4dd3b",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834452,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [["Why use a transformation matrix?", [["i"]]]]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "header",
          "version": 1
        }
      },
      "e8ce776a-b553-440e-a4ab-827b87c9287e": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834468,
          "id": "e8ce776a-b553-440e-a4ab-827b87c9287e",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834468,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "language": [["Plain Text"]],
            "title": [
              [
                "<!doctype html>\n<html>\n<head>\n<style>\n    body{ background-color:white; }\n    #canvas{border:1px solid red; }\n</style>\n<script>\nwindow.onload=(function(){\n\n    var canvas=document.getElementById(\"canvas\");\n    var ctx=canvas.getContext(\"2d\");\n    var cw=canvas.width;\n    var ch=canvas.height;\n    function reOffset(){\n        var BB=canvas.getBoundingClientRect();\n        offsetX=BB.left;\n        offsetY=BB.top;        \n    }\n    var offsetX,offsetY;\n    reOffset();\n    window.onscroll=function(e){ reOffset(); }\n    window.onresize=function(e){ reOffset(); }\n\n    // Transformation Matrix \"Class\"\n    \n    var TransformationMatrix=( function(){\n        // private\n        var self;\n        var m=[1,0,0,1,0,0];\n        var reset=function(){ var m=[1,0,0,1,0,0]; }\n        var multiply=function(mat){\n            var m0=m[0]*mat[0]+m[2]*mat[1];\n            var m1=m[1]*mat[0]+m[3]*mat[1];\n            var m2=m[0]*mat[2]+m[2]*mat[3];\n            var m3=m[1]*mat[2]+m[3]*mat[3];\n            var m4=m[0]*mat[4]+m[2]*mat[5]+m[4];\n            var m5=m[1]*mat[4]+m[3]*mat[5]+m[5];\n            m=[m0,m1,m2,m3,m4,m5];\n        }\n        var screenPoint=function(transformedX,transformedY){\n            // invert\n            var d =1/(m[0]*m[3]-m[1]*m[2]);\n            im=[ m[3]*d, -m[1]*d, -m[2]*d, m[0]*d, d*(m[2]*m[5]-m[3]*m[4]), d*(m[1]*m[4]-m[0]*m[5]) ];\n            // point\n            return({\n                x:transformedX*im[0]+transformedY*im[2]+im[4],\n                y:transformedX*im[1]+transformedY*im[3]+im[5]\n            });\n        }\n        var transformedPoint=function(screenX,screenY){\n            return({\n                x:screenX*m[0] + screenY*m[2] + m[4],\n                y:screenX*m[1] + screenY*m[3] + m[5]\n            });    \n        }\n        // public\n        function TransformationMatrix(){\n            self=this;\n        }\n        // shared methods\n        TransformationMatrix.prototype.translate=function(x,y){\n            var mat=[ 1, 0, 0, 1, x, y ];\n            multiply(mat);\n        };\n        TransformationMatrix.prototype.rotate=function(rAngle){\n            var c = Math.cos(rAngle);\n            var s = Math.sin(rAngle);\n            var mat=[ c, s, -s, c, 0, 0 ];    \n            multiply(mat);\n        };\n        TransformationMatrix.prototype.scale=function(x,y){\n            var mat=[ x, 0, 0, y, 0, 0 ];        \n            multiply(mat);\n        };\n        TransformationMatrix.prototype.skew=function(radianX,radianY){\n            var mat=[ 1, Math.tan(radianY), Math.tan(radianX), 1, 0, 0 ];\n            multiply(mat);\n        };\n        TransformationMatrix.prototype.reset=function(){\n            reset();\n        }\n        TransformationMatrix.prototype.setContextTransform=function(ctx){\n            ctx.setTransform(m[0],m[1],m[2],m[3],m[4],m[5]);\n        }\n        TransformationMatrix.prototype.resetContextTransform=function(ctx){\n            ctx.setTransform(1,0,0,1,0,0);\n        }\n        TransformationMatrix.prototype.getTransformedPoint=function(screenX,screenY){\n            return(transformedPoint(screenX,screenY));\n        }\n        TransformationMatrix.prototype.getScreenPoint=function(transformedX,transformedY){\n            return(screenPoint(transformedX,transformedY));\n        }\n        TransformationMatrix.prototype.getMatrix=function(){\n            var clone=[m[0],m[1],m[2],m[3],m[4],m[5]];\n            return(clone);\n        }\n        // return public\n        return(TransformationMatrix);\n    })();\n\n    // DEMO starts here\n\n    // create a rect and add a transformation matrix\n    // to track it's translations, rotations & scalings\n    var rect={x:30,y:30,w:50,h:35,matrix:new TransformationMatrix()};\n\n    // draw the untransformed rect in black\n    ctx.strokeRect(rect.x, rect.y, rect.w, rect.h);\n    // Demo: label\n    ctx.font='11px arial';\n    ctx.fillText('Untransformed Rect',rect.x,rect.y-10);\n\n    // transform the canvas & draw the transformed rect in red\n    ctx.translate(100,0);\n    ctx.scale(2,2);\n    ctx.rotate(Math.PI/12);\n    // draw the transformed rect\n    ctx.strokeStyle='red';\n    ctx.strokeRect(rect.x, rect.y, rect.w, rect.h);\n    ctx.font='6px arial';\n    // Demo: label\n    ctx.fillText('Same Rect: Translated, rotated & scaled',rect.x,rect.y-6);\n    // reset the context to untransformed state\n    ctx.setTransform(1,0,0,1,0,0);\n\n    // record the transformations in the matrix\n    var m=rect.matrix;\n    m.translate(100,0);\n    m.scale(2,2);\n    m.rotate(Math.PI/12);\n\n    // use the rect's saved transformation matrix to reposition, \n    //     resize & redraw the rect\n    ctx.strokeStyle='blue';\n    drawTransformedRect(rect);\n\n    // Demo: instructions\n    ctx.font='14px arial';\n    ctx.fillText('Demo: click inside the blue rect',30,200);\n\n    // redraw a rect based on it's saved transformation matrix\n    function drawTransformedRect(r){\n        // set the context transformation matrix using the rect's saved matrix\n        m.setContextTransform(ctx);\n        // draw the rect (no position or size changes needed!)\n        ctx.strokeRect( r.x, r.y, r.w, r.h );\n        // reset the context transformation to default (==untransformed);\n        m.resetContextTransform(ctx);\n    }\n\n    // is the point in the transformed rectangle?\n    function isPointInTransformedRect(r,transformedX,transformedY){\n        var p=r.matrix.getScreenPoint(transformedX,transformedY);\n        var x=p.x;\n        var y=p.y;\n        return(x>r.x && x<r.x+r.w && y>r.y && y<r.y+r.h);\n    } \n\n    // listen for mousedown events\n    canvas.onmousedown=handleMouseDown;\n    function handleMouseDown(e){\n        // tell the browser we're handling this event\n        e.preventDefault();\n        e.stopPropagation();\n        // get mouse position\n        mouseX=parseInt(e.clientX-offsetX);\n        mouseY=parseInt(e.clientY-offsetY);\n        // is the mouse inside the transformed rect?\n        if(isPointInTransformedRect(rect,mouseX,mouseY)){\n            alert('You clicked in the transformed Rect');\n        }\n    }\n\n    // Demo: redraw transformed rect without using\n    //       context transformation commands\n    function drawTransformedRect(r,color){\n        var m=r.matrix;\n        var tl=m.getTransformedPoint(r.x,r.y);\n        var tr=m.getTransformedPoint(r.x+r.w,r.y);\n        var br=m.getTransformedPoint(r.x+r.w,r.y+r.h);\n        var bl=m.getTransformedPoint(r.x,r.y+r.h);\n        ctx.beginPath();\n        ctx.moveTo(tl.x,tl.y);\n        ctx.lineTo(tr.x,tr.y);\n        ctx.lineTo(br.x,br.y);\n        ctx.lineTo(bl.x,bl.y);\n        ctx.closePath();\n        ctx.strokeStyle=color;\n        ctx.stroke();\n    }\n\n}); // end window.onload\n</script>\n</head>\n<body>\n    <canvas id=\"canvas\" width=512 height=250></canvas>\n</body>\n</html>"
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "code",
          "version": 5
        }
      },
      "e9c58134-84f6-413b-8df8-195993a812ac": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834452,
          "id": "e9c58134-84f6-413b-8df8-195993a812ac",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834452,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "During complex animations you might apply dozens (or hundreds) of transformations to a shape. By using a transformation matrix you can (almost) instantly reapply those dozens of transformations with a single line of code."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 5
        }
      },
      "ea6299fa-08d2-4d5c-88e2-a3b464c5fb7a": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834452,
          "id": "ea6299fa-08d2-4d5c-88e2-a3b464c5fb7a",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834452,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "A transformation matrix allows you to aggregate many individual translations, rotations & scalings into a single, easily reapplied matrix."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 1
        }
      },
      "ecc02b51-1fcf-4431-ba06-e775001b230c": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834468,
          "id": "ecc02b51-1fcf-4431-ba06-e775001b230c",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834468,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "This demo uses the Transformation Matrix “Class” above to:"
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 1
        }
      },
      "f133e090-0a2c-438f-b526-68c39db17993": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834466,
          "id": "f133e090-0a2c-438f-b526-68c39db17993",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834466,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              ["setContextTransform", [["c"]]],
              [
                " takes a context and sets that context’s matrix equal to this transformation matrix. This efficiently reapplies all transformations stored in this matrix to the context."
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 5
        }
      },
      "f4ebe6c2-6795-43ee-ae89-82d547d7a370": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834467,
          "id": "f4ebe6c2-6795-43ee-ae89-82d547d7a370",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834467,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "language": [["Plain Text"]],
            "title": [
              [
                "var TransformationMatrix=( function(){\n    // private\n    var self;\n    var m=[1,0,0,1,0,0];\n    var reset=function(){ var m=[1,0,0,1,0,0]; }\n    var multiply=function(mat){\n        var m0=m[0]*mat[0]+m[2]*mat[1];\n        var m1=m[1]*mat[0]+m[3]*mat[1];\n        var m2=m[0]*mat[2]+m[2]*mat[3];\n        var m3=m[1]*mat[2]+m[3]*mat[3];\n        var m4=m[0]*mat[4]+m[2]*mat[5]+m[4];\n        var m5=m[1]*mat[4]+m[3]*mat[5]+m[5];\n        m=[m0,m1,m2,m3,m4,m5];\n    }\n    var screenPoint=function(transformedX,transformedY){\n        // invert\n        var d =1/(m[0]*m[3]-m[1]*m[2]);\n        im=[ m[3]*d, -m[1]*d, -m[2]*d, m[0]*d, d*(m[2]*m[5]-m[3]*m[4]), d*(m[1]*m[4]-m[0]*m[5]) ];\n        // point\n        return({\n            x:transformedX*im[0]+transformedY*im[2]+im[4],\n            y:transformedX*im[1]+transformedY*im[3]+im[5]\n        });\n    }\n    var transformedPoint=function(screenX,screenY){\n        return({\n            x:screenX*m[0] + screenY*m[2] + m[4],\n            y:screenX*m[1] + screenY*m[3] + m[5]\n        });    \n    }\n    // public\n    function TransformationMatrix(){\n        self=this;\n    }\n    // shared methods\n    TransformationMatrix.prototype.translate=function(x,y){\n        var mat=[ 1, 0, 0, 1, x, y ];\n        multiply(mat);\n    };\n    TransformationMatrix.prototype.rotate=function(rAngle){\n        var c = Math.cos(rAngle);\n        var s = Math.sin(rAngle);\n        var mat=[ c, s, -s, c, 0, 0 ];    \n        multiply(mat);\n    };\n    TransformationMatrix.prototype.scale=function(x,y){\n        var mat=[ x, 0, 0, y, 0, 0 ];        \n        multiply(mat);\n    };\n    TransformationMatrix.prototype.skew=function(radianX,radianY){\n        var mat=[ 1, Math.tan(radianY), Math.tan(radianX), 1, 0, 0 ];\n        multiply(mat);\n    };\n    TransformationMatrix.prototype.reset=function(){\n        reset();\n    }\n    TransformationMatrix.prototype.setContextTransform=function(ctx){\n        ctx.setTransform(m[0],m[1],m[2],m[3],m[4],m[5]);\n    }\n    TransformationMatrix.prototype.resetContextTransform=function(ctx){\n        ctx.setTransform(1,0,0,1,0,0);\n    }\n    TransformationMatrix.prototype.getTransformedPoint=function(screenX,screenY){\n        return(transformedPoint(screenX,screenY));\n    }\n    TransformationMatrix.prototype.getScreenPoint=function(transformedX,transformedY){\n        return(screenPoint(transformedX,transformedY));\n    }\n    TransformationMatrix.prototype.getMatrix=function(){\n        var clone=[m[0],m[1],m[2],m[3],m[4],m[5]];\n        return(clone);\n    }\n    // return public\n    return(TransformationMatrix);\n})();"
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "code",
          "version": 1
        }
      },
      "f5124661-f9fa-4c3d-8e63-b3b9b9670670": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834453,
          "id": "f5124661-f9fa-4c3d-8e63-b3b9b9670670",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834453,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [["Some Example uses:"]]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "text",
          "version": 1
        }
      },
      "ff7dc70d-6515-4a63-a002-27c4274c0b99": {
        "role": "comment_only",
        "value": {
          "alive": true,
          "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "created_by_table": "notion_user",
          "created_time": 1551949834452,
          "id": "ff7dc70d-6515-4a63-a002-27c4274c0b99",
          "ignore_block_count": true,
          "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
          "last_edited_by_table": "notion_user",
          "last_edited_time": 1551949834452,
          "parent_id": "b417f39c-1e3b-41e1-bafe-a7412f825462",
          "parent_table": "block",
          "properties": {
            "title": [
              [
                "But you can’t read Canvas’s internal transformation matrix – it’s write-only.",
                [["i"]]
              ]
            ]
          },
          "space_id": "cf9fa7dd-b245-42a0-b929-d5a276b3afe0",
          "type": "bulleted_list",
          "version": 1
        }
      }
    },
    "space": {}
  }
}
